/* ================================
   0) DESIGN TOKENS
   ================================ */
:root {
  --dark-color-h: 0;
  --dark-color-s: 0%;
  --dark-color-l: 0%;
  --light-color-h: 19.2;
  --light-color-s: 30.86%;
  --light-color-l: 84.12%;

  --dark-color: hsl(var(--dark-color-h), var(--dark-color-s), var(--dark-color-l));
  --dark-color-lighter: hsl(var(--dark-color-h), var(--dark-color-s), calc(var(--dark-color-l) + 10%));
  --dark-color-darker: hsl(var(--dark-color-h), var(--dark-color-s), calc(var(--dark-color-l) - 10%));
  --dark-color-translucent: hsla(var(--dark-color-h), var(--dark-color-s), var(--dark-color-l), 0.75);
  --dark-color-darker-translucent: hsla(var(--dark-color-h), var(--dark-color-s), calc(var(--dark-color-l) - 10%), 0.75);

  --light-color: hsl(var(--light-color-h), var(--light-color-s), var(--light-color-l));
  --light-color-lighter: hsl(var(--light-color-h), var(--light-color-s), calc(var(--light-color-l) + 10%));
  --light-color-darker: hsl(var(--light-color-h), var(--light-color-s), calc(var(--light-color-l) - 10%));
  --light-color-translucent: hsla(var(--light-color-h), var(--light-color-s), var(--light-color-l), 0.75);

  --color-bg: var(--dark-color);
  --color-text: var(--light-color);
  --color-muted: color-mix(in oklab, var(--color-text) 50%, var(--color-bg) 50%);
  --color-accent: color-mix(in oklab, var(--color-text) 80%, var(--color-bg) 20%);
  --color-border: color-mix(in oklab, var(--color-text) 30%, var(--color-bg) 70%);
  --resources-bg-color: var(--dark-color-darker-translucent);
  --resources-active-color: color-mix(in srgb, var(--light-color) 75%, transparent);
  --resources-color: var(--color-text);

  --ts-h6: clamp(12px, 1.0753vw + 8.9892px, 20px);
  --ts-h5: clamp(14.4px, 1.2903vw + 10.7871px, 24px);
  --ts-h4: clamp(17.28px, 1.5484vw + 12.9445px, 28.8px);
  --ts-h3: clamp(20.736px, 1.8581vw + 15.5334px, 34.56px);
  --ts-h2: clamp(24.8832px, 2.2297vw + 18.6401px, 41.472px);
  --ts-h1: clamp(29.8598px, 2.6756vw + 22.3681px, 49.7664px);
}

/* ================================
   1) RESET / BASE
   ================================ */
*, ::before, ::after { box-sizing: border-box; border: 0 solid; }
* { -webkit-tap-highlight-color: transparent; }

html {
  overflow-y: scroll;
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

body {
  margin: 0;
  min-height: 100vh;
  width: 100%;
  background: var(--color-bg);
  color: var(--color-text);
  font-family: Inter, Roboto, "Helvetica Neue", "Arial Nova", "Nimbus Sans", Arial, sans-serif;
  line-height: 1.5;
}

h1, h2, h3 { margin: 0; font-weight: 400; letter-spacing: 0.025em; }
h2 { font-size: var(--ts-h2); color: var(--color-accent); }
h3 { font-size: var(--ts-h3); color: var(--color-accent); }

code { background: var(--dark-color-darker-translucent); border-radius: .1875rem; padding: .125rem .25rem; }
pre code { display: block; white-space: pre; overflow-x: auto; padding: 1rem; }

/* ================================
   2) SCROLLER WRAPPERS (Smoother)
   ================================ */
.viewport-wrapper { position: relative; height: auto; overflow: visible; }
.content-scroll { display: block; width: 100%; }

body:not(.normalize-scroll) .viewport-wrapper {
  position: fixed; inset: 0; width: 100%; height: 100%; overflow: hidden;
}
body:not(.normalize-scroll) .content-scroll .sv-wrapper { perspective: 2000px; }
body:not(.normalize-scroll) .content-scroll .pin-spacer { transform-style: preserve-3d; }

/* ================================
   3) VIDEO SCRUB SECTION
   ================================ */
section:has(.sv-wrapper) { background: var(--dark-color-darker); }

/* Stacking: list overlays the video */
section.stack { display: grid; }
section.stack > * { grid-area: 1 / 1; }
#video_01 { z-index: 1; }
section.stack > ul { z-index: 2; position: relative; overflow: hidden; }

/* Scrub wrapper */
.sv-wrapper { position: relative; display: block; width: 100%; margin-inline: auto; }

/* MOBILE-FIRST: fill viewport and crop */
.sv-pin-container {
  /* cancel aspect-ratio defaults on mobile; fill the visible viewport */
  aspect-ratio: auto;
  width: 100vw;
  height: 100svh;                  /* dynamic viewport height (stable under URL bars) */
  max-height: 100svh;
  display: grid;
  overflow: hidden;
  border-radius: 0;
}

/* Video fills and crops */
.sv-video {
  grid-area: 1/-1;
  width: 100%;
  height: 100%;
  object-fit: cover;                /* key: crop to fill */
  object-position: center;
  pointer-events: none;
  user-select: none;
  position: relative;
}

/* Overlay track for scrub distance (kept as-is) */
.sv-overlay-track,
.sv-preloader {
  position: relative;
  display: block;
  pointer-events: none;
  user-select: none;
}
.sv-preloader { background: #000; grid-area: 1/-1; transition: opacity .35s cubic-bezier(0.4,0,0.2,1); }
.sv-overlay-track { height: var(--track-height, 100lvh); margin-top: var(--track-offset-y, -100lvh); width: 100%; }
.sv-overlay-markers { position: absolute; inset: 0; pointer-events: none; }

/* (Optional) remove markers styling in production */
/* .sv-overlay-second-marker, .sv-overlay-cue-marker { display: none !important; } */

/* ================================
   4) LIST OVERLAY (ZOOM TARGETS)
   ================================ */
ul { list-style: none; padding: 0; margin: 0; width: 100%; overflow: hidden; }
li {
  /* mobile: simple stacked list */
  display: flex; align-items: center; justify-content: center;
  width: 100%;
  margin: 0;
}
li a {
  color: #fafafa; text-decoration: none;
  display: flex; align-items: center; gap: .5rem;
  margin-bottom: 10px;
  opacity: 1; pointer-events: auto;            /* mobile: visible by default */
}

/* Mobile tweaks for the email line */
#four a span { display: inline; }

/* ================================
   5) HEADER / FOOTER (optional)
   ================================ */
header {
  position: fixed; inset-inline: 0; top: 0;
  height: 10svh; width: 100vw; z-index: 98;
  display: grid; place-items: center;
  background-image: radial-gradient(circle at center, #fff, #d5d22fb2, #1988256b);
  border-bottom: 5px solid #494949; color: #000;
}
footer {
  position: fixed; inset-inline: 0; bottom: 0; z-index: 99;
  width: 100vw; background: #000; color: #fff;
  display: grid; place-items: center;
}

/* ================================
   6) INTERACTIONS / RESOURCES
   ================================ */
.resources-layer { position: fixed; right: 0; bottom: 0; z-index: 1000; }
.resources {
  background: var(--resources-bg-color);
  display: grid; grid-auto-flow: column; gap: 0;
  font-size: .6875rem; font-weight: 300; line-height: 1.3;
  padding: .5rem; pointer-events: auto;
}
.resources a { color: var(--resources-color); display: grid; place-content: center; padding: 0 .5rem; transition: color .2s; }
.resources a:not(:first-child) { border-inline-start: thin solid currentColor; }

/* Hover-only devices */
@media (hover:hover) and (pointer:fine) {
  .resources a:hover, .resources a:active:not(:hover) { color: var(--resources-active-color); }
}

/* ================================
   7) DESKTOP-UP ENHANCEMENTS
   ================================ */
@media (min-width: 768px) {
  /* Reintroduce rounded corners/aspect for big screens */
  .sv-pin-container {
    border-radius: 1.5vh;
    aspect-ratio: 16/9;
    height: auto;                   /* desktop: aspect controls height */
    max-height: 100lvh;
  }

  /* Center each list item full-viewport to make start:"top top" clean */
  #one, #two, #three, #four {
    min-height: 100vh;
    display: grid; place-items: center;
    transform-origin: 50% 50%;
    will-change: transform;
    contain: layout paint;
  }

  /* Desktop: hide links until their li gets .showing (GSAP toggles this) */
  li a { opacity: 0; pointer-events: none; }
  li.showing a { opacity: 1; pointer-events: auto; }

  /* Email “line break” on small screens becomes centered block on desktop if desired */
  #four a span { display: inline; text-align: center; width: auto; }
}

/* ================================
   8) OPTIONAL TYPO ANIMATION (mobile)
   ================================ */
@keyframes nameEnter {
  0% { transform: scale(1); }
  15% { transform: scale(0.92); }
  25% { transform: scale(1.2); }
  90%, 100% { transform: scale(1); }
}
@media (max-width: 767px) {
  h1 { font-size: 1.8rem; line-height: 1.2; animation: nameEnter 2s .5s forwards; }
}

/* ================================
   9) MISC / UTILITIES
   ================================ */
.spacer { height: 100lvh; }
section.intro a, section.intro a:visited { color: var(--color-text); }
section.intro a:focus-visible { color: var(--color-accent); outline: none; }
section.indicator { text-align: center; }
section.indicator h3 { font-size: var(--ts-h5); font-weight: 400; }

/* Mobile: make the overlay list fill the viewport and space items */
@media (max-width: 767px) {
  section.stack > ul {
    min-height: 100svh;            /* fill the visible viewport */
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;  /* spread items vertically */
    align-items: center;
    gap: 1.5rem;                    /* extra breathing room between items */
    padding-block: 2rem;            /* avoid edge hugging; tweak as desired */
    padding-inline: 1rem;
  }

  /* Make sure list items don’t fight the layout */
  section.stack > ul li {
    min-height: auto;               /* override any 100vh from desktop */
    margin: 0;                      /* rely on gap for spacing */
    width: 100%;
    display: flex;
    justify-content: center;
  }

  section.stack > ul li a {
    opacity: 1;                     /* visible on mobile */
    pointer-events: auto;
    display: inline-flex;
    text-align: center;
  }
}
